//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
///			Copyright 2018 (C) Bruno Xavier B. Leite
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#pragma once

#include "USQLite.h"
#include "Widgets/Input/SButton.h"
#include "USQLite_Shared.h"

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

class SQLPreviewWidget;

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

enum class ESQLPreviewAction : uint8 {
	Delete,
	Copy,
	Paste,
	Insert
};

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

class SQLPreviewButtonWidget : public SCompoundWidget {
private:
	TSharedPtr<SQLPreviewWidget> Owner;
	TSharedPtr<ESQLPreviewAction> Mode;
	TSharedPtr<FString> RowID;
public:
	SQLPreviewButtonWidget();
	virtual ~SQLPreviewButtonWidget() override;
	//
	SLATE_BEGIN_ARGS(SQLPreviewButtonWidget)
	: _Owner(TSharedPtr<SQLPreviewWidget>())
	, _Mode(TSharedPtr<ESQLPreviewAction>())
	, _RowID(TSharedPtr<FString>())
	{}//
		SLATE_ATTRIBUTE(TSharedPtr<SQLPreviewWidget>,Owner)
		SLATE_ATTRIBUTE(TSharedPtr<ESQLPreviewAction>,Mode)
		SLATE_ATTRIBUTE(TSharedPtr<FString>,RowID)
	SLATE_END_ARGS()
	//
	void Construct(const FArguments &InArgs);
	//
	FReply OnButtonClicked();
	FReply OnClickedDELETE();
	FReply OnClickedINSERT();
	FReply OnClickedPASTE();
	FReply OnClickedCOPY();
};

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////